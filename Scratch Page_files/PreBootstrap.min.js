(()=>{var e={55:function(e,t){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=0;t.IS_UNIQUE="__DO_NOT_DEDUPE_STYLE__";for(var i=/[A-Z]/g,s=/^ms-/,a=/&/g,l=/[ !#$%&()*+,./;<=>?@[\]^`{|}~"'\\]/g,c=function(e){return"-"+e.toLowerCase()},u={"animation-iteration-count":!0,"border-image-outset":!0,"border-image-slice":!0,"border-image-width":!0,"box-flex":!0,"box-flex-group":!0,"box-ordinal-group":!0,"column-count":!0,columns:!0,"counter-increment":!0,"counter-reset":!0,flex:!0,"flex-grow":!0,"flex-positive":!0,"flex-shrink":!0,"flex-negative":!0,"flex-order":!0,"font-weight":!0,"grid-area":!0,"grid-column":!0,"grid-column-end":!0,"grid-column-span":!0,"grid-column-start":!0,"grid-row":!0,"grid-row-end":!0,"grid-row-span":!0,"grid-row-start":!0,"line-clamp":!0,"line-height":!0,opacity:!0,order:!0,orphans:!0,"tab-size":!0,widows:!0,"z-index":!0,zoom:!0,"fill-opacity":!0,"flood-opacity":!0,"stop-opacity":!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,"stroke-miterlimit":!0,"stroke-opacity":!0,"stroke-width":!0},d=0,h=Object.keys(u);d<h.length;d++)for(var p=h[d],g=0,f=["-webkit-","-ms-","-moz-","-o-",""];g<f.length;g++)u[f[g]+p]=!0;function m(e){return e.replace(i,c).replace(s,"-ms-")}function v(e){for(var t=5381,n=e.length;n--;)t=33*t^e.charCodeAt(n);return(t>>>0).toString(36)}function y(e,t){return"number"!=typeof t||0===t||u.hasOwnProperty(e)?e+":"+t:e+":"+t+"px"}function w(e){return e.sort((function(e,t){return e[0]>t[0]?1:-1}))}function b(e){return e.map((function(e){var t=e[0],n=e[1];return Array.isArray(n)?n.map((function(e){return y(t,e)})).join(";"):y(t,n)})).join(";")}function S(e,t){return-1===e.indexOf("&")?t+" "+e:e.replace(a,t)}function E(e,n,r,o,i){var s=function(e,n){for(var r=[],o=[],i=!1,s=0,a=Object.keys(e);s<a.length;s++){var l=a[s],c=e[l];null!=c&&(l===t.IS_UNIQUE?i=!0:"object"!=typeof c||Array.isArray(c)?r.push([m(l.trim()),c]):o.push([l.trim(),c]))}return{style:b(w(r)),nested:n?o:w(o),isUnique:i}}(n,""!==e),a=s.style,l=s.nested,c=s.isUnique,u=a;if(64===e.charCodeAt(0)){var d={selector:e,styles:[],rules:[],style:i?"":a};r.push(d),a&&i&&d.styles.push({selector:i,style:a,isUnique:c});for(var h=0,p=l;h<p.length;h++){var g=p[h];u+=(C=g[0])+E(C,g[1],d.rules,d.styles,i)}}else{var f=i?S(e,i):e;a&&o.push({selector:f,style:a,isUnique:c});for(var v=0,y=l;v<y.length;v++){var C,x=y[v];u+=(C=x[0])+E(C,x[1],r,o,f)}}return u}function C(e,t,n,r,i,s){for(var a=0,l=r;a<l.length;a++){var c=l[a],u=c.selector,d=c.style,h=c.isUnique,p=s?S(u,i):u,g=h?"u\0"+(++o).toString(36):"s\0"+t+"\0"+d;(v=new T(d,g)).add(new I(p,"k\0"+t+"\0"+p)),e.add(v)}for(var f=0,m=n;f<m.length;f++){var v,y=m[f],w=(u=y.selector,d=y.style,y.rules),b=y.styles;C(v=new P(u,d,"r\0"+t+"\0"+u+"\0"+d),t,w,b,i,s),e.add(v)}}function x(e){for(var t="",n=0;n<e.length;n++)t+=e[n];return t}t.escape=function(e){return e.replace(l,"\\$&")},t.hyphenate=m,t.stringHash=v;var k={add:function(){},change:function(){},remove:function(){}},R=function(){function e(e){void 0===e&&(e=k),this.changes=e,this.sheet=[],this.changeId=0,this._keys=[],this._children=Object.create(null),this._counters=Object.create(null)}return e.prototype.add=function(t){var n=this._counters[t.id]||0,r=this._children[t.id]||t.clone();if(this._counters[t.id]=n+1,0===n)this._children[r.id]=r,this._keys.push(r.id),this.sheet.push(r.getStyles()),this.changeId++,this.changes.add(r,this._keys.length-1);else if(r instanceof e&&t instanceof e){var o=this._keys.indexOf(t.id),i=r.changeId;r.merge(t),r.changeId!==i&&(this.sheet.splice(o,1,r.getStyles()),this.changeId++,this.changes.change(r,o,o))}return r},e.prototype.remove=function(t){var n=this._counters[t.id];if(void 0!==n&&n>0){this._counters[t.id]=n-1;var r=this._children[t.id],o=this._keys.indexOf(r.id);if(1===n)delete this._counters[t.id],delete this._children[t.id],this._keys.splice(o,1),this.sheet.splice(o,1),this.changeId++,this.changes.remove(r,o);else if(r instanceof e&&t instanceof e){var i=r.changeId;r.unmerge(t),r.changeId!==i&&(this.sheet.splice(o,1,r.getStyles()),this.changeId++,this.changes.change(r,o,o))}}},e.prototype.values=function(){var e=this;return this._keys.map((function(t){return e._children[t]}))},e.prototype.merge=function(e){for(var t=0,n=e.values();t<n.length;t++){var r=n[t];this.add(r)}return this},e.prototype.unmerge=function(e){for(var t=0,n=e.values();t<n.length;t++){var r=n[t];this.remove(r)}return this},e.prototype.clone=function(){return(new e).merge(this)},e}();t.Cache=R;var I=function(){function e(e,t){this.selector=e,this.id=t}return e.prototype.getStyles=function(){return this.selector},e.prototype.clone=function(){return new e(this.selector,this.id)},e}();t.Selector=I;var T=function(e){function t(t,n){var r=e.call(this)||this;return r.style=t,r.id=n,r}return r(t,e),t.prototype.getStyles=function(){return this.sheet.join(",")+"{"+this.style+"}"},t.prototype.clone=function(){return new t(this.style,this.id).merge(this)},t}(R);t.Style=T;var P=function(e){function t(t,n,r){var o=e.call(this)||this;return o.rule=t,o.style=n,o.id=r,o}return r(t,e),t.prototype.getStyles=function(){return this.rule+"{"+this.style+x(this.sheet)+"}"},t.prototype.clone=function(){return new t(this.rule,this.style,this.id).merge(this)},t}(R);t.Rule=P;var L=function(e){function n(t,n,r,o){var i=e.call(this,o)||this;return i.hash=t,i.debug=n,i.id=r,i}return r(n,e),n.prototype.registerStyle=function(e,n){var r=[],o=[],i=E("&",e,r,o),s="f"+this.hash(i),a=this.debug&&n?n+"_"+s:s;return C(this,i,r,o,"."+t.escape(a),!0),a},n.prototype.registerKeyframes=function(e,t){return this.registerHashRule("@keyframes",e,t)},n.prototype.registerHashRule=function(e,n,r){var o=[],i=[],s=E("",n,o,i),a="f"+this.hash(s),l=this.debug&&r?r+"_"+a:a,c=new P(e+" "+t.escape(l),"","h\0"+s+"\0"+e);return C(c,s,o,i,"",!1),this.add(c),l},n.prototype.registerRule=function(e,t){var n=[],r=[];C(this,E(e,t,n,r),n,r,"",!1)},n.prototype.registerCss=function(e){return this.registerRule("",e)},n.prototype.getStyles=function(){return x(this.sheet)},n.prototype.clone=function(){return new n(this.hash,this.debug,this.id,this.changes).merge(this)},n}(R);t.FreeStyle=L,t.create=function(e,t,n){return void 0===e&&(e=v),void 0===t&&(t="undefined"!=typeof process&&!1),void 0===n&&(n=k),new L(e,t,"f"+(++o).toString(36),n)}},970:e=>{!function(){var t=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i");function n(e){for(var t="",n=0;n<e;n++)t+=(65536*(1+Math.random())|0).toString(16).substring(1);return t}function r(e){if(!e)throw new TypeError("Invalid argument; `value` has no value.");this.value=r.EMPTY,e&&e instanceof r?this.value=e.toString():e&&"[object String]"===Object.prototype.toString.call(e)&&r.isGuid(e)&&(this.value=e),this.equals=function(e){return r.isGuid(e)&&this.value==e},this.isEmpty=function(){return this.value===r.EMPTY},this.toString=function(){return this.value},this.toJSON=function(){return this.value}}r.EMPTY="00000000-0000-0000-0000-000000000000",r.isGuid=function(e){return e&&(e instanceof r||t.test(e.toString()))},r.create=function(){return new r([n(2),n(1),n(1),n(1),n(3)].join("-"))},r.raw=function(){return[n(2),n(1),n(1),n(1),n(3)].join("-")},e.exports?e.exports=r:"undefined"!=typeof window&&(window.Guid=r)}()}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{"use strict";n.r(r),n.d(r,{EptBreakdownMetricNames:()=>X,LocalMetricsContext:()=>Z,LocalWebClientMetricsLogger:()=>I,MetricsContext:()=>J,MetricsEvent:()=>L,MetricsEventParameters:()=>T,MetricsEventType:()=>k,MetricsSuites:()=>x,SessionRoute:()=>Be,VizqlPaths:()=>Xe,closeEptMetricsContext:()=>de,createContext:()=>N,fireScriptReady:()=>Ce,fireViewerBootstrapLoaded:()=>Se,getContextIdThenIncrement:()=>O,getDuringEptFlag:()=>Q,getEptBreakdownMetricsContexts:()=>ge,getFriendlyEventDescription:()=>C,getIsPageVisibleWhenStartLoading:()=>te,getMetricsParameterShortName:()=>P,getMetricsSuitesFilter:()=>D,getOffsetFromTimeZero:()=>pe,getPageToHiddenCount:()=>me,getPageVisibilityMetricsContexts:()=>fe,getSizeConstraints:()=>Lt,getUniqueKey:()=>ae,handleJQueryXhrError:()=>Ae,handleXhrError:()=>Ne,logMetricsEvent:()=>B,markEptMetricsEvent:()=>ce,onViewerBootstrapLoaded:()=>be,onVqlScriptReady:()=>Ee,openEptMetricsContext:()=>oe,parseTsConfigFromPage:()=>At,rawGuid:()=>le,setDuringEptFlag:()=>Y,setMetricsEventLoggers:()=>G,setMetricsSuitesFilter:()=>j,vizqlStorage:()=>zt});var e=n(970);function t(e){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}const o=["de-DE","en-US","en-GB","es-ES","fr-FR","fr-CA","it-IT","ja-JP","ko-KR","nl-NL","pt-BR","sv-SE","th-TH","zh-CN","zh-TW"].map((e=>new Intl.Locale(e))).reduce(((e,t)=>(e[c(t)]=t,void 0===e[t.language]&&(e[t.language]=t),e)),{});function i(e){return e=function(e){switch(c(e,"-")){case"zh-HK":case"zh-MO":return new Intl.Locale("zh-TW");case"zh-SG":return new Intl.Locale("zh-CN");default:return e}}(e),o[c(e)]}function s(e){const t=i(e);return void 0===t?o[e.language]:t}const a=new Intl.Locale("en-US");function l(){return navigator.languages.map((e=>new Intl.Locale(e)))}function c(e,t="_"){return void 0===e.region?e.language:`${e.language}${t}${e.region}`}function u(e){return e.map(s).find((e=>void 0!==e))||a}function d(){return new Promise(((e,n)=>{t((()=>{const t=h(document);t?e(t):n(new Error("Failed to parse staticConfig from document"))}))}))}function h(e){const t=e.getElementById("staticConfigContainer");if(t){const e=t.textContent;if(e)return JSON.parse(e)}return null}function p(e){var t;return(null===(t=h(e))||void 0===t?void 0:t.isAuthoring)||null}function g(e){var t;return(null===(t=h(e))||void 0===t?void 0:t.isMobile)||null}function f(e){var t;return(null===(t=h(e))||void 0===t?void 0:t.isJsDebug)||null}function m(e){var t;return(null===(t=h(e))||void 0===t?void 0:t.isPublic)||null}function v(e){var t;return(null===(t=h(e))||void 0===t?void 0:t.isSalesforceNative)||null}function y(e){var t;return e&&(null===(t=h(e))||void 0===t?void 0:t.showPagePathPrefix)||null}function w(e){var t;return e&&(null===(t=h(e))||void 0===t?void 0:t.vizqlPrefix)||null}function b(e,t=!1){const n=new URL(document.URL),r=e.toLowerCase();for(const[e,t]of n.searchParams.entries())if(r===e.toLowerCase())return/^(1|true|t|yes|y)$/.test(t.toLowerCase());return t}const S="_",E={BTSTRP:"Bootstrap Request",PROPRI:"Process Primary Payload",PROSEC:"Process Secondary Payload",MDLINI:"Initialize Models",MDLEVT:"Handle Model Events",EXELOC:"Execute Local Command",EXEREM:"Execute Remote Command",PROLOC:"Process Local Command Response",PROREM:"Process Remote Command Response",RNDRPT:"Render Panetable",RNDRRG:"Render Region",RTCONV:"Runtime model presmodel conversion",CLNTLD:"Client Loaded",APPSTR:"Application Startup",APPPNT:"First paint in Authoring",APPINT:"Application Interactive",ALLZNS:"All Zones Loaded",ADJAZN:"Adjusted All Zones Loaded",TBRLAY:"Toolbar Layout",TBRHNT:"Toolbar HandleNewToolbar",TBRADD:"Toolbar AddToolbar",TBRHRE:"Toolbar HandleResize",MDLOAD:"Load js async",EMLOAD:"Emscripten load",RTLOAD:"Runtime load",RTLPRC:"Runtime command local processing",EPLTTI:"Experienced Page Load Time",lsh:"Load Static Html",lvb:"Load ViewerBootstrap Module",lvql:"Load JS Modules",aep:"MetricsController Instantiated",ss:"Start Session",ibr:"Initiate BootstrapSession Request",htc:"Handle TsConfig",pss:"Prepare StartSession",bps:"Bootstrap POST Request Sent",lcss:"Load Css",boi:"BootstrapSession OnIntial Callbak",boe:"BootstrapSession OnError Callback",bos:"BootstrapSession OnSecondaryAction Callback",ntb:"Notified Bootstrap OnInitial Callback",nte:"Notified Bootatrap OnError Callback",propri:"Process Primary Payload",mdlini:"Model Initialization",mdlevt:"Model Event Handler",prosec:"Process Secondary Payload",pld:"ProgressiveLoad",uz:"Update Zones With Viz Data",pmu:"Process Model Update",clntld:"Client Fully Loaded",imgld:"Image Tiles Loaded",rmld:"Registered Modules Loaded",appstr:"Application Startup",appint:"Application Interactive",apppnt:"First Paint In Authoring",mdload:"Load Module Async",exerem:"Execute Remote Command",prorem:"Process Remote Command Response",exeerr:"Execute Remote Command With Error",exeloc:"Execute Local Command",proloc:"Process Local Command Response",plo:"Post Load Operation",gsi:"Get Session Info",gse:"Get Session Info With Error Retured",gas:"Get Acceleration State For View",rtload:"Runtime Load",df:"Download Font",tbrlay:"Toolbar Layout",tbrhnt:"Toolbar Handle New Toolbar",tbradd:"Add a Toolbar",tbrhre:"Toolbar Handle Resize",rtconv:"Runtime Model Presmodel Conversion"};function C(e){return null!=e?E[e.split(S)[0]]:void 0}var x,k;function R(){return null!=window.self.performance&&null!=window.self.performance.mark}!function(e){e[e.None=0]="None",e[e.Navigation=1]="Navigation",e[e.Bootstrap=2]="Bootstrap",e[e.Commands=4]="Commands",e[e.Rendering=16]="Rendering",e[e.Debug=32]="Debug",e[e.Toolbar=64]="Toolbar",e[e.Fonts=128]="Fonts",e[e.HitTest=256]="HitTest",e[e.Maps=512]="Maps",e[e.Exporting=1024]="Exporting",e[e.Min=3]="Min",e[e.Core=15]="Core",e[e.All=65535]="All"}(x||(x={}));class I{constructor(){}logEvent(e){const t=e.parameters,n=I.buildDescriptionName(t.description,t.extraInfo);let r;void 0!==n&&(r=e.metricSuite===x.Bootstrap&&void 0!==t.elapsed&&-1!==t.elapsed?n.includes("Experienced Page Load Time")?I.EPTStartMarker:n.includes("Adjusted All Zones Loaded")?I.ADJAZNStartMarker:I.AppStartMarker:I.buildStartName(n),I.logLocalMetricEnd(n,r))}static logLocalMetricStart(e){const t=I.buildStartName(e);return I.performanceMarker.mark(t),t}static markAppStart(){I.performanceMarker.mark(I.AppStartMarker)}static markEptStart(){I.markStart(I.EPTStartMarker,0)}static markAdjAznStart(e){I.markStart(I.ADJAZNStartMarker,e)}static markStart(e,t){const n={startTime:t};I.performanceMarker.mark(e,n)}static logLocalMetricEnd(e,t){const n=I.buildEndName(e);null===t&&(t=I.buildStartName(e)),I.performanceMarker.mark(n),I.performanceMarker.measure("✚ "+e,n,t)}static buildDescriptionName(e,t){if(void 0!==e){const n=C(e);return void 0===n?e:null!=t?n+": "+t:n}}static buildStartName(e){return"__start__"+e}static buildEndName(e){return"__end__"+e}}I.AppStartMarker="AppStartEpochMarker",I.EPTStartMarker="EPTStartMarker",I.ADJAZNStartMarker="ADJAZNStartMarker",I.performanceMarker=new class{constructor(){this.browserSupportMark=R()}mark(e,t){this.browserSupportMark&&(void 0!==t?window.self.performance.mark(e,t):window.self.performance.mark(e))}measure(e,t,n){if(this.browserSupportMark)try{window.self.performance.measure(e,n,t)}catch(e){}}},function(e){e.null="null",e.navigation="nav",e.contextEnd="wp",e.generic="gen",e.sessionInit="init"}(k||(k={}));class T{}function P(e){switch(e){case"description":return"d";case"time":return"t";case"id":return"id";case"elapsed":return"e";case"values":return"v";case"metricsSessionId":return"sid";case"extraInfo":return"ei";case"workbook":return"wb";case"sheet":return"s";case"isMobile":return"m";case"properties":return"p";case"clientEventId":return"cid";case"vizclientSessionId":return"vsid";case"sessionType":return"st";case"traceId":return"trid";default:return null}}class L{constructor(e=k.null,t,n){this._eventType=e,this._metricSuite=t,this._parameters=n}get eventType(){return this._eventType}get metricSuite(){return this._metricSuite}get parameters(){return this._parameters}}let $=0;const M=[],_=new I,z=R();function N(e,t,n,r=!1,o=!1){const i=new J(O(),e,t,n,r,o);return!r&&M.push(i),i}function A(e){const t=e.id;let n=-1;for(let e=M.length-1;e>=0;e--)if(M[e].id===t){n=e;break}if(-1!==n){const e=M.length-n;for(let t=0;t<e;t++)M.pop()}!function(e){const t=function(e){const t=new T;return t.id=e.id.toString(),t.description=e.description,null!==e.extraInfo&&void 0!==e.extraInfo&&(t.extraInfo=e.extraInfo),null!==e.clientEventId&&void 0!==e.clientEventId&&(t.clientEventId=e.clientEventId),t}(e);t.time=e.endTime(),t.elapsed=e.elapsedMS(),t.isMobile=g(document)||!1;B(new L(k.contextEnd,e.metricSuite,t))}(e)}function B(e){z&&e.eventType!==k.sessionInit&&_.logEvent(e),e.metricSuite!==x.None&&(e.metricSuite&U)===e.metricSuite&&(V.length>0?F(e):W.eventBuffer.push(e))}function O(){const e=$;return++$,e}const q={none:x.None,navigation:x.Navigation,bootstrap:x.Bootstrap,rendering:x.Rendering,commands:x.Commands,toolbar:x.Toolbar,hittest:x.HitTest,debug:x.Debug,fonts:x.Fonts,maps:x.Maps,exporting:x.Exporting,min:x.Min,core:x.Core,all:x.All};let U=x.None;function j(e){if(null!=e&&""!==e){const t=e.split("|");for(const e of t){const t=e.trim().toLowerCase();Object.prototype.hasOwnProperty.call(q,t)&&(U|=q[t])}}}function D(){return U}let H="",V=new Array;function F(e){e.parameters.sessionType=H,V.forEach((t=>{t.logEvent(e)}))}const W=new class{constructor(){this._eventBuffer=[]}get eventBuffer(){return this._eventBuffer}get length(){return this._eventBuffer.length}reset(){this._eventBuffer.length=0}};function G(e){V=e,null!=V&&W.length>0&&(W.eventBuffer.forEach((e=>{F(e)})),W.reset())}class J{constructor(e,t,n,r,o=!1,i=!1){this.localReporter=void 0,this.id=e,this.metricSuite=t,this.description=n,this.getTiming=function(){let e=0;if("undefined"!=typeof window&&window.self&&window.self.performance&&"function"==typeof window.self.performance.now){const t=window.self.performance.getEntriesByType("navigation");return e=t.length>0?t[0].responseStart:0,function(){return window.self.performance.now()-e}}{const e=Date.now();return function(){return Date.now()-e}}}(),this.start=i?0:this.getTiming(),this.open=!0,this.clientEventId="",this.end=-1,this.extraInfo=r,this.isBreakdownContext=o,z&&(o||null!=r)&&(this.localReporter=new Z(t,n,r))}dispose(){this.close()}close(){this.open&&(this.end=this.getTiming(),!this.isBreakdownContext&&A(this),this.open=!1,void 0!==this.localReporter&&null!==this.localReporter&&this.localReporter.close())}elapsedMS(){return this.open?this.getTiming()-this.start:this.end-this.start}endTime(){return this.end}}class Z extends J{constructor(e,t,n){super(O(),e,t);const r=I.buildDescriptionName(t,n);void 0!==r&&(t=r),this.open=!0,this.metricName=t+"#"+(Z.eventCount++).toString(),I.logLocalMetricStart(this.metricName)}close(){this.open&&(this.open=!1,I.logLocalMetricEnd(this.metricName,null))}}var X;Z.eventCount=0,function(e){e.basicPageLoadMetrics="bt",e.advancedPageLoadMetrics="at",e.incarnation="i",e.timeOrigin="to",e.numberOfWorksheets="ws",e.numberOfTabs="tb",e.embedMode="em",e.renderMode="rm",e.navigationType="nt",e.alreadyLoaded="al",e.responseEnd="re",e.loadStaticHtml="lsh",e.responseStart="ep",e.loadViewerBootstrapModule="lvb",e.loadVqlModules="lvql",e.appStartEpoch="aep",e.startSession="ss",e.initBootstrapRequest="ibr",e.handleTsConfig="htc",e.prepareStartSession="pss",e.loadCss="lcss",e.bootstrapOnInitial="boi",e.bootstrapOnErr="boe",e.bootstrapOnSecondary="bos",e.notifiedBootstrap="ntb",e.notifiedBootstrapWithError="nte",e.bootstrapWithoutRoute="bwr",e.bootstrapPostRequestSent="bps",e.bootstrapFitImageOnMouseOver="bfm",e.bootstrapResetOnMouseOver="brm",e.processPrimaryPayload="propri",e.initializeModels="mdlini",e.handleModelEvents="mdlevt",e.processSecondaryPayload="prosec",e.progressiveLoad="pld",e.updateZonesWithVizData="uz",e.processModelUpdate="pmu",e.clientFullyLoaded="clntld",e.imageTilesLoaded="imgld",e.registeredModulesLoaded="rmld",e.moduleLoadAsync="mdload",e.executeRemoteCommand="exerem",e.executeRemoteCommandReturnError="exeerr",e.processRemoteCommandResponse="prorem",e.executeLocalCommand="exeloc",e.processLocalCommandResponse="proloc",e.postLoadOperation="plo",e.getSessionInfo="gsi",e.getSessionInfoReturnError="gse",e.getAccelerationStateForView="gas",e.runtimeLoad="rtload",e.downloadFont="df",e.toolbarLayout="tbrlay",e.toolbarHandleNewToolbar="tbrhnt",e.toolbarAddToolbar="tbradd",e.toolbarHandleResize="tbrhre",e.runtimeModelPresmodelConversion="rtconv",e.applicationStartup="appstr",e.applicationInteractive="appint",e.firstPaintInAuthoring="apppnt",e.pageVisibilityChange="pvc",e.pageHiddenCount="phc",e.pageHiddenTime="pht",e.pageStartAsVisible="psv",e.pageEndAsVisible="pev"}(X||(X={}));let K=!0;function Y(e){K=e}function Q(){return K}let ee=!0;function te(){return ee}const ne=new Map,re=new Map;function oe(e,t){se(ne,e,t)}function ie(e){se(re,e)}function se(e,t,n){K&&("string"==typeof t?ue(e,x.Bootstrap,t,n):Array.isArray(t)?t.forEach((t=>{ue(e,x.Bootstrap,t,n)})):console.error("Invalid parameter type passed to openEptMetricsContext"))}function ae(t){return t+S+e.raw()}function le(){return e.raw()}function ce(e,t){K&&(ue(ne,x.Bootstrap,e,t),de(e))}function ue(e,t,n,r){e.set(n,N(t,n,r,!0))}function de(e){he(ne,e)}function he(e,t){if(!K)return;const n=e.get(t);n&&n.dispose()}function pe(e,t){K&&(ne.set(e,N(x.Bootstrap,e,t,!0,!0)),de(e))}function ge(){return ne}function fe(){return re}function me(){return ve}let ve=0;let ye=!1,we=!1;function be(e){ye?e():document.addEventListener("viewerBootstrapLoaded",(()=>{e()}))}function Se(){ye=!0,document.dispatchEvent(new CustomEvent("viewerBootstrapLoaded")),de(X.loadViewerBootstrapModule)}function Ee(e){we?e():document.addEventListener("vqlScriptReady",(()=>{e()}))}function Ce(){we=!0,document.dispatchEvent(new CustomEvent("vqlScriptReady")),de(X.loadVqlModules)}function xe(e,t){return`${Te(t)}/ViewerBootstrap${e?".debug":""}.js`}function ke(e){const t=new Intl.Locale(e.language.replace("_","-")),n=new Intl.Locale(e.locale.replace("_","-"));let r;if(void 0===t.region&&t.language===n.language){const e=i(n);r=void 0!==e?e:i(t)||a}else r=i(t)||a;return{language:r,locale:n}}function Re(e,t,n,r=!1){return new Promise(((o,i)=>{const s=n.createElement("script");s.type="text/javascript",s.src=e,s.async=r,s.onload=()=>{o()},s.onerror=()=>{i()},t&&(s.crossOrigin="anonymous"),n.head.appendChild(s)}))}function Ie(e,t){return new Promise(((n,r)=>{const o=document.createElement("link");o.type="text/css",o.href=e,o.media="all",o.rel="Stylesheet",o.onload=()=>{n()},o.onerror=()=>{r()},t.head.appendChild(o)}))}function Te(e){return Le("javascripts",e)}function Pe(e){const t=Array.from(e.scripts);return t.length&&t.find((e=>e.src.includes("PreBootstrap")))||null}function Le(e,t=void 0){const n=Pe(null!=t?t:document);return n?`${n.src.substring(0,n.src.indexOf("/javascripts"))}/${e}`:e}function $e(){const e=Pe(document);return e&&"anonymous"===e.crossOrigin||!1}function Me(e){if(b(":pseudo"))return"pseudo";const t=i(e),n=void 0===t?a:t,r=i(new Intl.Locale(n.language)),o=c(n);return void 0!==r&&c(r)===o?n.language:o}function _e(e,t,n,r,o){const s=e?"":"-min",l=e?"":".min",u=t?"mobile":"web",d=Me(r),h=c(i(r)||a),p=c(o),g=Te(document),f=[`${g}/jquery${l}.js`,`${g}/mscorlib${l}.js`,`${g}/jsstrings_${d}.js`,`${g}/messages.${h}.js`,`${g}/formatters-and-parsers.${p}.js`];return n&&f.push(`${g}/codemirror${s}.js`),e?(f.push(`${g}/vqlbrowsersupport.debug.js`,`${g}/vqlfiledropresponder.debug.js`,`${g}/vqlcore.debug.js`,`${g}/vqldomain.debug.js`,`${g}/vqlauthoringdomain.debug.js`,`${g}/iscroll.js`,`${g}/shared-widgets.js`,`${g}/eventutils.js`,`${g}/spiffui.debug.js`,`${g}/spiffui${u}.debug.js`,`${g}/tabruntime.debug.js`,`${g}/vqlmoduleinterfaces.debug.js`,`${g}/vqllegacydojomoduleinterfaces.debug.js`,`${g}/vqlui.debug.js`,`${g}/vqlruntimerendered.debug.js`,`${g}/vqlvizzone.debug.js`,`${g}/vqlvizzonedesktop.debug.js`,`${g}/vqllegendzone.debug.js`,`${g}/require.js`,`${g}/vqlruntimeui.debug.js`,`${g}/vqlui${u}.debug.js`,`${g}/vqlvizzone${u}.debug.js`,`${g}/vqllegendzone${u}.debug.js`,`${g}/vqlversion.js`),n&&f.push(`${g}/vqlauthoring.debug.js`,`${g}/vqlresizeheadersmodule.debug.js`,`${g}/vqlauthoring${u}.debug.js`)):(f.push(`${g}/vql${u}.js`),n&&f.push(`${g}/vqlauthoring${u}.js`)),f}function ze(e){be((()=>{const t=window.tabBootstrap.ViewerBootstrap.get_instance();oe([X.bootstrapOnInitial,X.bootstrapOnErr]),t.bootstrap(e),t.showLyteboxIfNeeded()}))}function Ne(e,t,n){n()}function Ae(e,t,n){n()}class Be{constructor(e,t){this.vizqlSessionRoute=e,this.ingressProxySessionHeader=t}static FromHeaders(e,t){return new Be(e.get("X-Session-Id")||"",e.get("Global-Session-Header")||(null==t?void 0:t.ingressProxySessionHeader)||"")}}var Oe=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};function qe(e){const t=function(e){const t=e.hash;return t.length<2?null:t.substring(1).split("&").find((e=>{const t=parseInt(e,10);return e.indexOf("=")<0&&t?t:null}))||null}(e)||"0";return`tab.viz.${e.pathname}#${t}`}function Ue(e){return`tab.viz.session.${e}`}function je(e){return`tab.viz.session.routes.${e}`}const De="tab.viz.session.management.roots";function He(e,t){return""===e&&"object"==typeof t?new Map(Object.entries(t)):t}class Ve{constructor(e){this.storage=e}get length(){var e;return(null===(e=this.storage)||void 0===e?void 0:e.length)||0}storeItem(e,t){if(null!==this.storage)try{this.storage.setItem(e,t)}catch(e){console.error(e)}}guardAgainstStorageUpdates(e,t){return new Promise(((n,r)=>{const o=t=>{this.storage===t.storageArea&&e===t.key&&r(t.newValue)};try{window.addEventListener("storage",o),n(t(e))}finally{window.removeEventListener("storage",o)}}))}getSessionHistory(e){if(null===this.storage)return null;const t=this.storage.getItem(Ue(e));return t?JSON.parse(t):null}isExpired(e){const t=this.getSessionHistory(e);return!!t&&Date.now()-6e4*(t.sessionIdleMinutes||60)>6e4*t.lastActiveMinutesSinceEpoch}storeSessionRoute(e,t){return Oe(this,void 0,void 0,(function*(){if(null===this.storage)return;const n=qe(e),r=JSON.stringify(t);if(this.storage.getItem(n)===r)return;this.storeItem(n,r);const o=je(t.vizqlSessionRoute),i=new Set(JSON.parse(this.storage.getItem(o)||"[]"));i.add(n),this.storeItem(o,JSON.stringify(Array.of(...i)));let s=!1,a=0;for(;!s&&a<10;)yield this.guardAgainstStorageUpdates(De,(e=>{if(null===this.storage)return null;const n=this.storage.getItem(e),r=JSON.parse(n||"{}",He);return r.set(t.vizqlSessionRoute,Date.now()),JSON.stringify(Object.fromEntries(r))})).then((e=>{null!==e&&(this.storeItem(De,e),s=!0)})).catch((()=>{a+=1}))}))}getSessionRoute(e){if(null===this.storage)return null;const t=this.storage.getItem(qe(e));if(t){const e=JSON.parse(t);return this.isExpired(e.vizqlSessionRoute)?null:e}return null}updateSession(e,t,n){const r=Ue(e);this.storeItem(r,JSON.stringify(Object.assign({lastActiveMinutesSinceEpoch:Math.floor(t/6e4)},n)))}getSessionJson(e){if(null===this.storage)return null;const t=this.getSessionRoute(e);if(t){const e=Ue(t.vizqlSessionRoute);return this.storage.getItem(e)}return null}purgeExpiredSessions(){return Oe(this,void 0,void 0,(function*(){return this.purge(Date.now()-3456e5)}))}purge(e){return Oe(this,void 0,void 0,(function*(){null!==this.storage&&(yield this.guardAgainstStorageUpdates(De,(t=>{if(null===this.storage)return null;const n=this.storage,r=new Map,o=n.getItem(t),i=JSON.parse(o||"{}",He);return i&&i.forEach(((t,o,i)=>{if(t>e)r.set(o,t);else{n.removeItem(Ue(o));const e=je(o),t=JSON.parse(n.getItem(e)||"[]");t&&(n.removeItem(e),t.forEach((e=>{n.removeItem(e)})))}})),JSON.stringify(Object.fromEntries(r))})).then((e=>{null!==e&&this.storeItem(De,e)})).catch((()=>console.log("Deferring session management deletions"))))}))}removeLocation(e){if(null===this.storage)return;const t=qe(e);this.storage.removeItem(t)}}function Fe(e,t){var n;const r=null===(n=null===window||void 0===window?void 0:window.tab)||void 0===n?void 0:n.Strings;return r?Promise.resolve(r):function(e,t){return Re(`${Te(e)}/jsstrings_${Me(t)}.js`,$e(),e)}(e,t).then((()=>window.tab.Strings))}class We{constructor(e){var t,n;this.hiddenSheet="(?<hiddenSheet>[^/]+)",this.workbook="(?<workbook>[^/]+)",this.view="(?<view>[^/]+)",this.vizqlRoot=null!==(t=null==e?void 0:e.vizqlRoot)&&void 0!==t?t:w(document),this.vizqlSessionId=null!==(n=null==e?void 0:e.sessionId)&&void 0!==n?n:null}stickySession(){return this.vizqlSessionId?`/sessions/${this.vizqlSessionId}`:""}getVizqlRoot(){return this.vizqlRoot}}class Ge extends We{constructor(e){super(e),this.optionalSite="(?<siteComponents>/t/(?<siteName>[^/]+))?",this.genericScenario="(?<scenario>showInstantAnalytics|authoringNewWorkbook|editDatasource|createPublishedDatasource|newWorkbook|shared|workbooks|show_metrics_view)",this.scenarioRewrites=new Map([["authoringNewWorkbook","newWorkbookFromDatasource"],["showInstantAnalytics","instantAnalytics"],["show_metrics_view","showMetricsView"]])}rewriteScenario(e){return this.scenarioRewrites.get(e)||e}adminView(){return new RegExp(`^${this.vizqlRoot}/showadminview/${this.workbook}/${this.view}$`)}views(){return new RegExp(`^${this.optionalSite}/views/${this.workbook}/${this.view}(?<customizedView>/.+/.+)?$`)}authoring(){return new RegExp(`^${this.optionalSite}/authoring/${this.workbook}/${this.view}(?:/${this.hiddenSheet})?$`)}authoringExtractDraft(){return new RegExp(`^${this.optionalSite}/authoringExtractDraft/${this.workbook}/${this.view}/(?<tail>.+)`)}generic(){return new RegExp(`^(?:${this.vizqlRoot})?${this.optionalSite}/${this.genericScenario}(?<tail>/.*)`)}getStartSessionUrl(e){var t,n;const r=/^\/show(?<authoring>\.authoring)?(?<mobile>\.mobile)?(?<debug>\.debug)?\.html\/(?<repoUrl>.+)$/.exec(e.pathname);r&&r.groups&&(e.pathname=(r.groups.authoring?"/authoring":"/views")+(r.groups.repoUrl?`/${r.groups.repoUrl}`:""),(null===(t=r.groups)||void 0===t?void 0:t.mobile)&&e.searchParams.append(":mobile","true"),(null===(n=r.groups)||void 0===n?void 0:n.authoring)&&(e.searchParams.append(":embed","y"),e.searchParams.append(":isVizPortal","true")));const o=this.views().exec(e.pathname);if(o&&o.groups){const t=new URL(e);return t.pathname=this.vizqlRoot+(o.groups.siteComponents||"")+`/w/${o.groups.workbook}`+`/v/${o.groups.view}/startSession`+this.stickySession()+(o.groups.customizedView?"/customizedView"+o.groups.customizedView:"/viewing"),t}const i=this.authoring().exec(e.pathname);if(i&&i.groups){const t=new URL(e),n=i.groups.hiddenSheet;return t.pathname=this.vizqlRoot+(i.groups.siteComponents||"")+`/w/${i.groups.workbook}`+`/v/${i.groups.view}/startSession`+this.stickySession()+"/authoring"+(n?`/${n}`:""),t}const s=this.authoringExtractDraft().exec(e.pathname);if(s&&s.groups){const t=new URL(e);return t.pathname=this.vizqlRoot+(s.groups.siteComponents||"")+`/w/${s.groups.workbook}`+`/v/${s.groups.view}/startSession`+this.stickySession()+"/authoringExtractDraft/"+s.groups.tail,t}const a=this.generic().exec(e.pathname);if(a&&a.groups){const t=new URL(e),n=this.rewriteScenario(a.groups.scenario);return t.pathname=this.vizqlRoot+(a.groups.siteComponents||"")+"/startSession"+this.stickySession()+"/"+n+(a.groups.tail||""),t}const l=this.adminView().exec(e.pathname);if(l&&l.groups){const t=new URL(e);return t.pathname=this.vizqlRoot+(l.groups.siteComponents||"")+`/w/${l.groups.workbook}`+`/v/${l.groups.view}/startSession`+this.stickySession()+"/showAdminView",t}if(/templates\/show\.([^/]*)testing\.html$/.exec(e.pathname))return new URL("/data/tsconfig.json",e.origin);throw new Error(`Unrecognized vizql URL ${e.href}`)}}class Je extends We{constructor(e){var t;super(e);const n=null!==(t=null==e?void 0:e.showPagePrefix)&&void 0!==t?t:y(document);this.showPageOptionalPrefix=n?`(?:${n})?`:""}views(){return new RegExp(`^${this.showPageOptionalPrefix}/views/${this.workbook}/${this.view}(?<customizedView>/.+/.+)?$`)}authoring(){return new RegExp(`^${this.showPageOptionalPrefix}/authoring/${this.workbook}/${this.view}(?:/${this.hiddenSheet})?$`)}newWorkbook(){return new RegExp(`^${this.showPageOptionalPrefix}/(?<scenario>newWorkbook)(?<tail>/.*)`)}getVizqlUrl(e){const t=new URL(this.vizqlRoot,e.origin);return t.search=e.search,t.hash=e.hash,t}getStartSessionUrl(e){const t=this.getVizqlUrl(e),n=this.views().exec(e.pathname);if(n&&n.groups)return t.pathname+=`/w/${n.groups.workbook}/v/${n.groups.view}/startSession`+this.stickySession()+(n.groups.customizedView?"/customizedView"+n.groups.customizedView:"/viewing"),t;const r=this.authoring().exec(e.pathname);if(r&&r.groups){const e=r.groups.hiddenSheet;return t.pathname+=`/w/${r.groups.workbook}/v/${r.groups.view}/startSession`+this.stickySession()+"/authoring"+(e?`/${e}`:""),t}const o=this.newWorkbook().exec(e.pathname);if(o&&o.groups){const e=o.groups.scenario;return t.pathname+="/startSession"+this.stickySession()+"/"+e+(o.groups.tail||""),t}throw new Error(`Unrecognized vizql URL ${e.href}`)}}function Ze(e){return Math.floor(Math.random()*e).toString()}class Xe{constructor(e){var t;const n=null!==(t=null==e?void 0:e.isSalesforceNative)&&void 0!==t?t:v(document);this.pathUtils=n?new Je(e):new Ge(e)}getStartSessionUrl(e){return this.pathUtils.getStartSessionUrl(e)}getVizPathHeaderValue(e){const t=this.getStartSessionUrl(e),n=this.pathUtils.getVizqlRoot();if(!n)throw new Error("vizqlRoot was unexpectedly null. Failed to extract viz path header value.");let r=t.toString().match(n+"(.*?)/v/.*?/startSession/");return r&&r[1]?r[1]+"#"+Ze(Xe.POD_DISTRIBUTION):(r=t.toString().match(n+"(.*?)/startSession/"),r&&r[1]?r[1]+"#"+Ze(Xe.POD_DISTRIBUTION):(console.warn(`Failed to find viz path regular expression match given vizqlRoot: ${n} and startSessionUrl: ${t.href}`),null))}}Xe.POD_DISTRIBUTION=2;class Ke{constructor(e){this.doc=e}overwriteTitle(e){const t=this.doc.getElementById("tabBootErrTitle");return t&&(t.textContent=e),this}overwriteBody(e){const t=this.doc.getElementById("tabBootErrBody");return t&&(t.textContent=e),this}overwriteBodyHTML(e){const t=this.doc.getElementById("tabBootErrBody");return t&&(t.innerHTML=e),this}hideLoadIndicators(){const e=window.parent;e&&e.postMessage&&e.postMessage("tableau.completed","*")}show(){this.hideLoadIndicators(),setTimeout((()=>{const e=this.doc.getElementById("tabBootErr");e&&(e.style.display="block")}),0)}}function Ye(e,t,n,r,o){const i=new Qe(e,t);e.body.replaceChildren(i.getBodyContents(n,r,o)),e.querySelectorAll('style,link[rel="stylesheet"]').forEach((e=>e.remove()))}class Qe{constructor(e,t){this.doc=e,this.strings=t}htmlEncode(e){const t=this.doc.createElement("div");t.innerText=e;const n=t.innerHTML;return t.remove(),n}getBodyContents(e,t,n){const r=m(this.doc);if(r||0===e.length||0===e[0].length){const e=this.doc.createElement("blockquote");e.style.backgroundColor="#eee",e.style.padding="10pt";const n=this.doc.createElement("p");if(n.innerHTML=this.strings.getString("ErrorPageUnexpectedError"),e.appendChild(n),r){const n=this.doc.createElement("br");e.appendChild(n),e.insertAdjacentHTML("beforeend",`${this.strings.ErrorPageHelpOnline(t)}</a>.`)}return e}{const t=this.doc.createElement("div");t.style.padding="15px";const r=this.doc.createTextNode(this.strings.getString("ErrorPageErrorDetails"));t.appendChild(r);const o=this.doc.createElement("blockquote");if(o.style.backgroundColor="#eee",o.style.padding="10pt",e.length&&e[0].length){const t=this.doc.createElement("span");t.className="TextInsideTable",n&&n.length&&(t.innerHTML=this.htmlEncode(n));const r=this.doc.createElement("ul");e.forEach((e=>{if(e.length){const t=this.doc.createElement("li");t.innerHTML=this.htmlEncode(e),r.appendChild(t)}})),t.appendChild(r),o.appendChild(t)}return t.appendChild(o),t.appendChild(this.doc.createTextNode(this.strings.getString("ErrorPageClickRefresh"))),t.appendChild(this.doc.createElement("br")),t.appendChild(this.doc.createTextNode(this.strings.getString("ErrorPageContactTableauServer"))),t}}}var et=n(55);function tt(e){var t={},n="";for(var r in e){var o=e[r];if("$unique"===r)t[et.IS_UNIQUE]=o;else if("$nest"===r){var i=o;for(var s in i){var a=i[s];t[s]=tt(a).result}}else"$debugName"===r?n=o:t[r]=o}return{result:t,debugName:n}}var nt="undefined"==typeof requestAnimationFrame?function(e){return setTimeout(e)}:"undefined"==typeof window?requestAnimationFrame:requestAnimationFrame.bind(window);function rt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n={},r=0,o=e;r<o.length;r++){var i=o[r];if(null!=i&&!1!==i)for(var s in i){var a=i[s];(a||0===a)&&("$nest"===s&&a?n[s]=n.$nest?rt(n.$nest,a):a:-1!==s.indexOf("&")||0===s.indexOf("@media")?n[s]=n[s]?rt(n[s],a):a:n[s]=a)}}return n}var ot=function(){return et.create(void 0,!0)},it=new(function(){function e(e){var t=e.autoGenerateTag,n=this;this.cssRaw=function(e){e&&(n._raw+=e||"",n._pendingRawChange=!0,n._styleUpdated())},this.cssRule=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var o=tt(rt.apply(void 0,t)).result;n._freeStyle.registerRule(e,o),n._styleUpdated()},this.forceRenderStyles=function(){var e=n._getTag();e&&(e.textContent=n.getStyles())},this.fontFace=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=n._freeStyle,o=0,i=e;o<i.length;o++){var s=i[o];r.registerRule("@font-face",s)}n._styleUpdated()},this.getStyles=function(){return(n._raw||"")+n._freeStyle.getStyles()},this.keyframes=function(e){var t=function(e){var t={$debugName:void 0,keyframes:{}};for(var n in e){var r=e[n];"$debugName"===n?t.$debugName=r:t.keyframes[n]=r}return t}(e),r=t.keyframes,o=t.$debugName,i=n._freeStyle.registerKeyframes(r,o);return n._styleUpdated(),i},this.reinit=function(){var e=ot();n._freeStyle=e,n._lastFreeStyleChangeId=e.changeId,n._raw="",n._pendingRawChange=!1;var t=n._getTag();t&&(t.textContent="")},this.setStylesTarget=function(e){n._tag&&(n._tag.textContent=""),n._tag=e,n.forceRenderStyles()},this.stylesheet=function(e){for(var t={},r=0,o=Object.getOwnPropertyNames(e);r<o.length;r++){var i=o[r],s=e[i];s&&(s.$debugName=i,t[i]=n.style(s))}return t};var r=ot();this._autoGenerateTag=t,this._freeStyle=r,this._lastFreeStyleChangeId=r.changeId,this._pending=0,this._pendingRawChange=!1,this._raw="",this._tag=void 0,this.style=this.style.bind(this)}return e.prototype._afterAllSync=function(e){var t=this;this._pending++;var n=this._pending;nt((function(){n===t._pending&&e()}))},e.prototype._getTag=function(){if(this._tag)return this._tag;if(this._autoGenerateTag){var e="undefined"==typeof window?{textContent:""}:document.createElement("style");return"undefined"!=typeof document&&document.head.appendChild(e),this._tag=e,e}},e.prototype._styleUpdated=function(){var e=this,t=this._freeStyle.changeId,n=this._lastFreeStyleChangeId;(this._pendingRawChange||t!==n)&&(this._lastFreeStyleChangeId=t,this._pendingRawChange=!1,this._afterAllSync((function(){return e.forceRenderStyles()})))},e.prototype.style=function(){var e=this._freeStyle,t=tt(rt.apply(void 0,arguments)),n=t.result,r=t.debugName,o=r?e.registerStyle(n,r):e.registerStyle(n);return this._styleUpdated(),o},e}())({autoGenerateTag:!0}),st=it.setStylesTarget,at=(it.cssRaw,it.cssRule),lt=(it.forceRenderStyles,it.fontFace,it.getStyles,it.keyframes,it.reinit,it.style);it.stylesheet;const ct="typeStyleContainer";var ut;!function(e){e[e.GENERIC=0]="GENERIC",e[e.FORBIDDEN=1]="FORBIDDEN"}(ut||(ut={}));const dt={cdp:"Salesforce Data Cloud",crma:"Salesforce CRMA",dbx:"Databricks"},ht=e=>{switch(e){case 403:return ut.FORBIDDEN;case 404:return ut.GENERIC;default:return null}};function pt(e){Array.from(e.querySelectorAll('style,link[rel="stylesheet"]')).filter((e=>e.id!==ct)).forEach((e=>e.remove()))}const gt=(e,t,n)=>e===ut.FORBIDDEN?t.getString("InstantAnalyticsPermissionsExceptionMessage"):t.InstantAnalyticsGenericExceptionMessage(n);class ft{constructor(e,t){this.doc=e,this.strings=t}createContentContainer(e){const t=this.doc.createElement("div");return t.className=lt({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",position:"fixed",height:"100%",width:"100%"}),t.appendChild(this.workbookIcon()),t.appendChild(this.heading()),t.appendChild(this.subheading(e)),t}heading(){const e=this.doc.createElement("p");return e.className=lt({color:"#333333",fontSize:"18px",fontFamily:"Benton Sans, sans-serif",marginBottom:"14px"}),e.textContent=this.strings.getString("InstantAnalyticsErrorPageHeading"),e}subheading(e){const t=this.doc.createElement("p");return t.className=lt({fontSize:"14px",fontFamily:"Benton Sans, sans-serif"}),t.textContent=e,t}workbookIcon(){const e=this.doc.createElement("div");return e.className=lt({backgroundImage:`url(${Le("images/workbook-spot-icon.svg")})`,height:"60px",width:"60px",marginBottom:"16px"}),e}}class mt{constructor(e,t,n){this.doc=e,this.strings=t,this.serverName=n}getBodyContents(){const e=this.doc.createElement("h1");return e.innerHTML=this.strings.MaintenanceMessage(this.serverName),e}}class vt{constructor(e,t,n,r){this.doc=e,this.strings=t,this.linksGallery=n,this.requestString=r}topPageElements(){return[this.heading(),this.errorParagraph(),this.requestIdParagraph()]}heading(){const e=this.doc.createElement("h1");return e.innerHTML=this.strings.getString("PageNotFoundResourceNotFound"),e}errorParagraph(){const e=this.doc.createElement("p");return e.innerHTML=this.strings.getString("PageNotFoundPleaseCheckUrlAndTryAgain"),e}requestIdParagraph(){const e=this.doc.createElement("p");return e.id="requestID",e}}class yt{constructor(e,t){this.doc=e,this.strings=t}getBodyContents(){const e=this.doc.createElement("b");e.innerHTML=this.strings.getString("MobileAuthoringUnsupportedError");const t=this.doc.createElement("div");t.style.margin="0px 8px",t.innerHTML=this.strings.getString("MobileAuthoringUnsupportedFeatureUnavailable");const n=this.doc.createElement("div");return n.className="mobileAuthoringUnsupportedError",n.style.fontFamily="Arial, Helvetica, sans-serif",n.style.backgroundColor="#f8c7cb",n.style.boxShadow="1px 1px rgba(0, 0, 0, 0.15)",n.style.display="flex",n.style.padding="12px 24px",n.style.margin="24px",n.appendChild(e),n.appendChild(t),n}}class wt{constructor(e,t){this.doc=e,this.strings=t,this.publicGalleryUrl=function(e){var t;return(null===(t=h(e))||void 0===t?void 0:t.publicGalleryLink)||null}(this.doc)||"https://public.tableau.com/s/gallery"}topPageElements(){return[this.whereViz(),this.br(),this.explanation(),this.br(),this.br(),this.browseGallery(),this.inspiration()]}br(){return this.doc.createElement("br")}textInsideTable(){const e=this.doc.createElement("p");return e.className="Textinsidetable",e}whereViz(){const e=this.textInsideTable();return e.style.fontSize="18px",e.textContent=this.strings.getString("ShowPageErrorPublicWhereViz"),e}explanation(){const e=this.textInsideTable();return e.innerHTML=this.strings.getString("ShowPageErrorPublicContentNotFound"),e}browseGallery(){const e=this.textInsideTable();return e.innerHTML=this.strings.PublicErrorBrowseGallery(this.publicGalleryUrl),e}inspiration(){const e=this.doc.createElement("div");return e.id="inspiration",e.style.textAlign="left",e.appendChild(this.table()),e}table(){const e=this.doc.createElement("table");e.cellPadding="0",e.cellSpacing="0",e.border="0",e.width="100%";const t=e.insertRow();t.insertCell().appendChild(this.clearImageWithWidth(24));const n=t.insertCell();return n.style.position="relative",n.width="100%",n.appendChild(this.galleryImageContainer()),t.insertCell().appendChild(this.clearImageWithWidth(4)),e}clearImageWithWidth(e){const t=this.doc.createElement("img");return t.src=Le("/images/clear.gif"),t.alt="Clear",t.width=e,t.height=1,t}galleryImageContainer(){const e=this.doc.createElement("div");e.style.position="relative";const t=this.doc.createElement("div");t.style.position="absolute",t.style.left="0px",t.style.top="0px",t.style.width="100%";const n=this.doc.createElement("div");n.style.paddingRight="20px";const r=this.doc.createElement("p");r.className="imgTitle";const o=this.doc.createElement("a");return o.className="img",o.href=this.publicGalleryUrl,o.appendChild(this.galleryImage()),o.appendChild(this.br()),r.appendChild(o),n.appendChild(r),t.appendChild(n),e.appendChild(t),e}galleryImage(){const e=this.doc.createElement("img");return e.src=Le("/images/404_gallery.png"),e.id="galleryImage",e.className="autoSizeImage",e.alt="Sample Gallery",e.style.maxHeight="100px",e.style.maxWidth="545px",e}}var bt=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const St=":redirect",Et="auth",Ct=":skipSmartRouting";function xt(t,n,r,o){return bt(this,void 0,void 0,(function*(){oe(X.prepareStartSession);const i={Accept:"application/json"},s=new URL((null==o?void 0:o.href)||r.location.href);s.searchParams.set(St,Et),i["Tableau-Viz-Location"]=s.href,i["X-B3-TraceID"]=e.raw().replace(/-/g,"").toLowerCase(),i["X-B3-SpanID"]=e.raw().replace(/-/g,"").toLowerCase(),i["X-B3-Sampled"]="1",(null==t?void 0:t.ingressProxySessionHeader)&&(i["Global-Session-Header"]=t.ingressProxySessionHeader),n&&(i.Authorization=`Bearer ${n}`);const a=function(e,t){var n;const r=null!==(n=t&&v(t))&&void 0!==n&&n,o=w(t),i=r?o:"/"+(o||"vizql"),s={isSalesforceNative:r,sessionId:e,showPagePrefix:y(t)||void 0,vizqlRoot:i};return new Xe(s)}((null==t?void 0:t.vizqlSessionRoute)||null,r);if(!b(Ct)){const e=a.getVizPathHeaderValue(s);e?i["Tableau-Viz-Path"]=e:console.warn("Unable to retrieve a valid viz path header value. Omitting Tableau-Viz-Path header.")}de(X.prepareStartSession),oe(X.startSession);const c=yield fetch(a.getStartSessionUrl(s),{headers:i,method:"POST"});!function(){const e=new URL(window.location.href);e.searchParams.get(St)&&(e.searchParams.delete(St),window.history.replaceState(window.history.state,"",e.href))}(),de(X.startSession);try{if(!c.ok||!c.body||c.redirected)throw c;return function(e,t,n){const r="Global-Session-Header";return e.vizqlRoutingHeaderName=r,e.vizqlRoutingKey=t.get(r)||(null==n?void 0:n.ingressProxySessionHeader)||"",e}(yield c.json(),c.headers,t)}catch(e){return function(e,t,n){return n||(n=kt),r=>bt(this,void 0,void 0,(function*(){var o;window.top&&window.top!==window&&function(e,t){try{const n={redirected:e.redirected,status:e.status};t.postMessage({name:"vizloaderror",response:n},new URL(document.referrer).origin)}catch(e){console.error(e)}}(r,window.parent);const i=null!==(o=r.headers.get("Tableau-User-Language"))&&void 0!==o?o:r.headers.get("Content-Language"),s=l();null!==i&&s.unshift(new Intl.Locale(i));const a=u(s),c=Fe(e,a),d=e.location||new URL(e.baseURI);if(d.pathname.startsWith("/vizql/showInstantAnalytics")&&function(e,t,n,r){const o=ht(e);return null!=o&&(t.then((e=>{!function(e,t,n,r){const o=new ft(e,t);let i;try{i=function(e){const t=e.split("/");if(t.length<4)throw new Error(`Invalid path format: ${e}. Expected format: /vizql/showInstantAnalytics/{provider}/key/check`);const n=t[3];if(!n)throw new Error("Data provider segment is empty in the path");const r=dt[n];if(!r)throw new Error(`Unknown data provider: ${n}. Supported providers are: ${Object.keys(dt).join(", ")}`);return r}(r)}catch(e){console.error("Error processing data provider:",e),i=""}const s=gt(n,t,i);pt(e),e.body.replaceChildren(o.createContentContainer(s))}(n,e,o,r)})).catch((()=>console.error("Unable to display Instant Analytics error page."))),!0)}(r.status,c,e,d.pathname))return;if(r.redirected&&r.url===d.origin+"/")return void n((()=>{const n=d.href.substring(r.url.length);t(`${d.origin}/#/${n}`,e)}));const h=r.headers.get("Location"),p=new URL(d.href);switch(r.status){case 200:break;case 400:return void function(e,t,n){bt(this,void 0,void 0,(function*(){const r=yield Rt(e);let o;try{o=yield n}catch(e){return void console.log("Unable to load localized strings")}if(r)switch(r.type){case"mobile-authoring-unsupported":return void function(e,t){const n=new yt(e,t);e.body.replaceChildren(n.getBodyContents()),e.querySelectorAll('style,link[rel="stylesheet"]').forEach((e=>e.remove()))}(t,o);case"instant-analytics-error":return void function(e,t,n,r){const o=new ft(e,t);r&&(e.title=r),pt(e),e.body.replaceChildren(o.createContentContainer(n))}(t,o,r.localizedErrorMessage||"",r.pageTitle)}new Ke(t).overwriteTitle(o.getString("ServerErrorRejected")).overwriteBodyHTML(o.getString("ServerErrorRejectedMessage")).show()}))}(r,e,c);case 401:if(h)return void n((()=>{var n;p.searchParams.get(St)===Et&&new URL(null!==(n=new URL(h).searchParams.get("path"))&&void 0!==n?n:"/",document.location.href).searchParams.get(St)===Et?c.then((t=>{new Ke(e).overwriteTitle(t.getString("ServerErrorUnexpected")).overwriteBody(t.getString("ServerErrorUnknown")).show()})).catch((()=>console.log("Unable to load localized strings"))):t(h,e)}));break;case 403:return void function(e,t,n){bt(this,void 0,void 0,(function*(){const r=yield Rt(e);if(r&&"trusted-ticked-failed"===r.type){const e=r.details||[],o=r.communityLink||"";let i;try{i=yield n}catch(e){return void console.log("Unable to load localized strings")}Ye(t,i,e,o,r.errorType)}else It(e,t,n)}))}(r,e,c);case 404:return void It(r,e,c);case 413:return void c.then((t=>{new Ke(e).overwriteTitle(t.getString("ShowPageErrorResourceLimitExceededSummary")).overwriteBodyHTML(t.getString("ShowPageErrorResourceLimitExceededDetail")+"<br>"+t.getString("PressBackButtonMessage")).show()})).catch((()=>console.log("Unable to load localized strings")));case 429:return void c.then((t=>{new Ke(e).overwriteTitle(t.getString("RequestCountExceededTitle")).overwriteBody(t.getString("RequestCountExceededWarning")).show()})).catch((()=>console.log("Unable to load localized strings")));case 502:case 503:return void function(e,t,n,r,o,i,s){bt(this,void 0,void 0,(function*(){const a=":refresh";if("no"===n.searchParams.get(a))return void Tt(e,o,t);const l=yield Rt(e);if(l){let e;try{e=yield o}catch(e){return void console.log("Unable to load localized strings")}const n=l.serverName||"",r=l.details||[],i=l.communityLink||"";switch(l.type){case"maintenance":return void function(e,t,n){const r=new mt(e,t,n);e.body.replaceChildren(r.getBodyContents()),e.querySelectorAll('style,link[rel="stylesheet"]').forEach((e=>e.remove()))}(t,e,n);case"no-license":return void Ye(t,e,r,i,l.errorType)}}s((()=>{new Ve(window.localStorage).removeLocation(r),n.searchParams.set(a,"no"),i(n.href,t)}))}))}(r,e,p,d,c,t,n);default:console.error(`Unhandled response: ${r.status}`)}yield Tt(r,c,e)}))}(document,((e,t)=>t.location.replace(e)))(c),null}}))}function kt(e){window.top&&window.top!==window?setTimeout((()=>{e()}),0):e()}function Rt(e){return bt(this,void 0,void 0,(function*(){const t=e.headers.get("content-type");return t&&t.includes("application/json")?yield e.json():null}))}function It(e,t,n){return bt(this,void 0,void 0,(function*(){let r;try{r=yield n}catch(e){return void console.log("Unable to load localized strings")}if(m(t))yield function(e){const t=Le("stylesheets"),n=[`${t}/base_packaged.css`,`${t}/404.css`];return Promise.all(n.map((t=>Ie(t,e))))}(t),function(e,t){const n=new wt(e,t);e.body.replaceChildren(...n.topPageElements())}(t,r);else{const n=yield Rt(e);if(n&&"missing-view"===n.type)return void function(e,t,n,r){const o=new vt(e,t,n,r);e.body.replaceChildren(...o.topPageElements()),e.body.className="body",e.querySelectorAll('style,link[rel="stylesheet"]').forEach((e=>e.remove())),function(e){Re(`${Te(document)}/vizqlserver/404.js`,$e(),e)}(e)}(t,r,n.linksGallery,n.requestString);new Ke(t).overwriteTitle(r.getString("ShowPageErrorNotFoundSummary")).overwriteBody(r.getString("ShowPageErrorNotFoundDetail")).show()}}))}function Tt(e,t,n){return bt(this,void 0,void 0,(function*(){const r=yield Rt(e);let o;try{o=yield t}catch(e){return console.log("Unable to load localized strings"),void new Ke(n).show()}if(r){const e=r.details||[],t=r.communityLink||"";if("exception"===r.type)return void Ye(n,o,e,t,r.errorType)}new Ke(n).overwriteTitle(o.getString("ServerErrorUnexpected")).overwriteBody(o.getString("ServerErrorUnknown")).show()}))}const Pt={maxWidth:0,maxHeight:0,minWidth:0,minHeight:0};function Lt(e,t,n){if(t)return Pt;if(e.showTabs||e.showLytebox)return e.composite_sizes[n];{const t=e.current_sheet_name?e.current_sheet_name:decodeURIComponent(e.sheetId),r=e.view_sizes[t];if(r)return r[n]}return Pt}const $t={"de-DE":"Wird geladen…","en-US":"Loading...","en-GB":"Loading...","es-ES":"Cargando...","fr-FR":"Chargement en cours...","fr-CA":"Chargement en cours...","it-IT":"Caricamento in corso...","ja-JP":"読み込んでいます...","ko-KR":"로드 중...","nl-NL":"Laden…","pt-BR":"Carregando...","sv-SE":"Läser in ...","th-TH":"กำลังโหลด...","zh-CN":"正在加载...","zh-TW":"正在載入..."};function Mt(e){var t,n;const r=b(":display_spinner",!0),o=b(":display_overlay",!0);if(r){const r=e.getElementById("loadingSpinner");if(r){const e=u(l()),o=null!==(t=$t[c(e)])&&void 0!==t?t:$t["en-US"];null===(n=r.querySelector('[role="img"]'))||void 0===n||n.setAttribute("aria-label",o),r.style.removeProperty("display")}}if(o){const t=e.getElementById("loadingGlassPane");t&&t.style.removeProperty("display")}}var _t=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const zt=new Ve(function(){try{return window.localStorage}catch(e){return null}}());function Nt(e,n){return _t(this,void 0,void 0,(function*(){Mt(document),function(e,t){const n=$e(),r=p(e)||!1,o=g(e)||!1,s=l().map(i).find((e=>void 0!==e))||a,c=_e(t,o,r,s,s);c.unshift(xe(t,e)),c.map((t=>function(e,t,n){const r=document.createElement("link");r.rel="preload",r.href=e,r.as="script",t&&(r.crossOrigin="anonymous"),n.head.appendChild(r)}(t,n,e)))}(document,f(document)||!1);const r=yield xt(e||null,n||null,document,document.location);try{!function(e,n){oe(X.handleTsConfig),t((()=>{Bt(false,n),de(X.handleTsConfig)}))}(0,r)}catch(e){qt(e)}}))}function At(){const e=document.getElementById("tsConfigContainer");return JSON.parse(e.innerText)}function Bt(e,t){t&&(function(e){document.getElementById("tsConfigContainer").value=JSON.stringify(e),document.dispatchEvent(new CustomEvent("tsConfigLoaded"))}(t),Ot(e,t))}function Ot(e,t){t&&(e||function(e,t,n){const r=$e(),o=t.is_authoring,i=t.is_mobile,{language:s,locale:a}=ke(t),l=!v(e)&&!function(e){var t;return e&&(null===(t=h(e))||void 0===t?void 0:t.isOffline)||null}(e),c=_e(n,i,o,s,a),u=xe(n,e);oe(X.loadViewerBootstrapModule),Re(u,r,e).then((()=>{Se()})).catch((e=>console.error(`Bootstrap failed with unhandled error: ${e.toString()}`))),oe(X.loadCss);const d=function(e,t,n){const r=[],o=e?"":"-min",i=t?"mobile":"web",s=e?".debug":"",a=Le("css",window.document);return a&&n&&(r.push(`${a}/codemirror${o}.css`),r.push(`${a}/vqldatatab${i}${s}.css`),r.push(`${a}/vqlcategoricalbindialog${i}${s}.css`)),r}(n,i,o);d.forEach((t=>{Ie(t,e).catch((e=>console.error(`Error loading resource ${t}: ${e.toString()}`)))})),de(X.loadCss),oe([X.loadVqlModules]),be((()=>{const t=c.map((t=>Re(t,r,e)));Promise.all(t).then((()=>{Ce(),l&&Re("/sidecar/scripts.js",!1,e,!0)})).catch((e=>console.error(`Vql script load error: ${e.toString()}`)))}))}(document,t,f(document)||!1),function(e,t){!function(e,t){if(!t.bootstrapOnMouseover)return;const n=e.getElementById("staticImage");if(null!==n){const e=t.showTabs?31:9,r=t.staticImage.replace(/_rss/g,"");n.style.backgroundColor="transparent",n.style.background=`no-repeat url(${r})`,n.style.left="4px",n.style.top=`${e}px`,n.style.width="auto",n.style.height="auto",n.style.display="block"}}(e,t),function(e,t){if(!t.primaryContentUrl)return;const n=e.getElementById("tabBootErr");if(!n)return;const r=function(e,t){let n=0,r=0;return null!=e&&(n=Math.max(e.maxWidth,e.minWidth),r=Math.max(e.maxHeight,e.minHeight)),0===n&&(n=t.public_lytebox_default_width||600),0===r&&(r=t.public_lytebox_default_height||800),{width:n,height:r}}(Lt(t,p(e)||!1,"desktop"),t);!function(e,t,n){at("body.lyteboxed",{minWidth:`${t+60}px;`}),at("#centeringContainer.lyteboxed",{width:`${t}px`,marginLeft:-t/2+"px",minHeight:`${n}px`,position:"relative",top:0,left:"50%",marginTop:"30px",marginBottom:"30px",boxShadow:"2px 2px 40px rgba(0, 0, 0, 0.65)",backgroundColor:"white"}),at("#lyteboxClose",{position:"absolute",top:"-14px",[e.showTabs?"left":"right"]:"-14px",display:"none",zIndex:100}),at("#lyteboxClose a img",{border:"none"}),at("#primaryContent, #primaryContentLink",{position:"fixed",height:"100%",width:"100%",top:0,border:0,display:"block"}),at("#primaryContentLink",{backgroundColor:"rgba(0,0,0,0.4)",left:0}),at(".lyteboxed .wcBody .dashboardSpacer .tab-dashboard",{overflow:"hidden"})}(t,r.width,r.height);const o=e.createElement("img");o.height=27,o.width=28,o.src=Le("images/close_button.png");const i=e.createElement("a");i.setAttribute("href",t.primaryContentUrl),i.appendChild(o);const s=e.createElement("div");s.setAttribute("id","lyteboxClose"),s.appendChild(i),n.after(s)}(e,t),function(e,t){t.primaryContentUrl&&(e.getElementById("primaryContentLink").href=t.primaryContentUrl)}(e,t),function(e,t){new Array(["property","fb:app_id",t.facebookAppID],["property","og:title",t.shareDescription],["property","og:type","article"],["property","og:image",t.baseViewThumbLink],["property","og:site_name","Tableau Software"],["name","twitter:card","summary"],["name","twitter:site","@tableau"],["name","twitter:title",t.workbookName],["name","twitter:description",t.shareDescription],["name","twitter:image:src",t.baseViewThumbLink],["name","twitter:domain","Tableau Public"]).forEach((t=>{const n=e.createElement("meta"),[r,o,i]=t;n.setAttribute(r,o),n.setAttribute("content",i),e.head.append(n)})),e.head.append(function(){const e=document.createElement("head");return e.setAttribute("name","twitter:creator"),e.setAttribute("id","twitter_creator"),e.setAttribute("content",""),e}())}(e,t)}(document,t),function(e){var t;e&&(j(e.metricsFilter),t=e.vizqlSessionType,H=t)}(t),Ee((()=>{const{language:e}=ke(t);Fe(document,e).then((e=>{!function(e,t,n){e.title=p(e)?t.AuthoringWorkbookTitle(n.workbookName):t.EmbeddedWorkbookTitle(n.workbookName)}(document,e,t)}))})))}function qt(e){console.error(e);const t=new Ke(document),n=u(l());Fe(document,n).then((n=>{const r=n.getString("UnhandledExceptionTitle"),o=n.getString("UnhandledExceptionMessage")(void 0,e);t.overwriteTitle(r).overwriteBodyHTML(o)}),(()=>{console.error("Unable to load localized strings")})).then((()=>{t.show()}))}(()=>{if("undefined"!=typeof staticConfig&&staticConfig.isUnitTestRun)return Bt(!0,null!==tsConfig&&void 0!==tsConfig?tsConfig:null),void ze(null);t((()=>{!function(e){if(m(e)){e.body.classList.add("public");const t=e.getElementById("svg-spinner-container");t&&(t.style.background="rgba(255,255,255,.6)")}}(document),Mt(document)})),function(){document.hidden&&(ve++,ie(X.pageVisibilityChange.toString()+ve.toString()),ee=!1);const e=()=>{var t;Q()?document.hidden?(ve++,ve<=125&&ie(X.pageVisibilityChange.toString()+ve.toString())):ve<=125&&(t=X.pageVisibilityChange.toString()+ve.toString(),he(re,t)):document.removeEventListener("visibilitychange",e)};document.addEventListener("visibilitychange",e)}(),function(){const e=document.createElement("style");e.id=ct,st(e),document.head.appendChild(e)}(),d().then((t=>{t.isOffline?function(){return _t(this,void 0,void 0,(function*(){return Promise.resolve(At()).then((e=>(Ot(!1,e),null)))}))}().then((()=>ze(null))).catch((e=>{qt(e)})):function(e,t){const n=new Promise(((e,t)=>setTimeout((()=>t("Timed out after 5000 ms.")),5e3)));return Promise.race([t,n])}(0,d().then((t=>new Promise(((n,r)=>{const o=window.location!==window.parent.location;if(!t.isSalesforceNative||!o)return n(null);const i=t.parentFrameOrigin;if(!i)return r("parentFrameOrigin is not configured");window.addEventListener("message",(function(e){if("*"===i||e.origin.toLowerCase()===i.toLowerCase())return e.data&&"string"==typeof e.data.authToken?n(e.data.authToken):e.data&&e.data.parameters&&"string"==typeof e.data.parameters.authToken?n(e.data.parameters.authToken):void 0}));const s={msgGuid:e.raw(),msgType:"notification",notificationId:"ready-to-receive-auth-token",readyToReceiveAuthToken:!0};window.parent.postMessage(s,i)})))).catch((e=>(qt(e),null)))).then((e=>(e=>{Nt(zt.getSessionRoute(window.location),e).then((()=>{ze(e)})).catch((e=>{qt(e)}))})(e))).catch((e=>{qt(e)}))})).catch((e=>{qt(e)})),zt.purgeExpiredSessions().catch((e=>console.error(`Vizql storage purge failed: ${e.toString()}`)))})()})(),self.PreBootstrap=r})();